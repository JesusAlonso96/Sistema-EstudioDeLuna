<h2 mat-dialog-title>Actualizar datos</h2>
<mat-dialog-content>
    <form #clienteForm="ngForm">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Nombre</mat-label>
                        <input matInput [(ngModel)]="data.nombre" name="nombre" #nombre="ngModel"
                            pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]*(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1 ]+$"
                            required>
                        <mat-error
                            *ngIf="(nombre.invalid && (nombre.dirty || nombre.touched)) && nombre.errors.required">
                            Por favor ingresa tu nombre</mat-error>
                        <mat-error
                            *ngIf="(nombre.invalid && (nombre.dirty || nombre.touched)) && nombre.errors.pattern">
                            Por favor ingresa solo letras</mat-error>
                    </mat-form-field>

                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Apellido paterno</mat-label>
                        <input matInput [(ngModel)]="data.ape_pat" name="ape_pat" #ape_pat="ngModel"
                            pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1 ]+$"
                            required>
                        <mat-error
                            *ngIf="(ape_pat.invalid && (ape_pat.dirty || ape_pat.touched)) && ape_pat.errors.required">
                            Por favor ingresa tu apellido paterno</mat-error>
                        <mat-error
                            *ngIf="(ape_pat.invalid && (ape_pat.dirty || ape_pat.touched)) && ape_pat.errors.pattern">
                            Por favor ingresa solo letras</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Apellido materno</mat-label>
                        <input matInput [(ngModel)]="data.ape_mat" name="ape_mat" #ape_mat="ngModel"
                            pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1 ]+$"
                            required>
                        <mat-error
                            *ngIf="(ape_mat.invalid && (ape_mat.dirty || ape_mat.touched)) && ape_mat.errors.required">
                            Por favor ingresa tu apellido materno</mat-error>
                        <mat-error
                            *ngIf="(ape_mat.invalid && (ape_mat.dirty || ape_mat.touched)) && ape_mat.errors.pattern">
                            Por favor ingresa solo letras</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Nombre de usuario</mat-label>
                        <input matInput [(ngModel)]="data.username" name="username" #username="ngModel">
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Correo electronico</mat-label>
                        <input matInput [(ngModel)]="data.email" name="email" #email="ngModel"
                            pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$" required>
                        <mat-error *ngIf="(email.invalid && (email.dirty || email.touched)) &&  email.errors.required">
                            Por favor ingresa tu correo electronico</mat-error>
                        <mat-error *ngIf="(email.invalid && (email.dirty || email.touched)) &&  email.errors.pattern">
                            Por favor ingresa un formato de correo valido</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Telefono celular</mat-label>
                        <input matInput [(ngModel)]="data.telefono" pattern="^[0-9]+$" minlength="10" maxlength="10" name="telefono"
                            #telefono="ngModel" required>
                        <mat-error
                            *ngIf="(telefono.invalid && (telefono.dirty || telefono.touched)) && telefono.errors.minlength">
                            Por favor ingresa 10 digitos</mat-error>
                            <mat-error
                            *ngIf="(telefono.invalid && (telefono.dirty || telefono.touched)) && telefono.errors.maxlength">
                            Por favor ingresa 10 digitos</mat-error>
                        <mat-error
                            *ngIf="(telefono.invalid && (telefono.dirty || telefono.touched)) && telefono.errors.pattern">
                            Por favor ingresa solo digitos</mat-error>
                            <mat-error
                            *ngIf="(telefono.invalid && (telefono.dirty || telefono.touched)) && telefono.errors.required">
                            Por favor ingresa el numero telefonico</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Razon social</mat-label>
                        <input matInput [(ngModel)]="data.razonSocial" name="razonSocial" #razonSocial="ngModel">
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>RFC</mat-label>
                        <input matInput [(ngModel)]="data.rfc" name="rfc" #rfc="ngModel">
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Estado</mat-label>
                        <mat-select [(ngModel)]="data.estado" name="estado" #estado="ngModel" required>
                            <mat-option *ngFor="let estado of estados" (click)="buscarMunicipios(estado._id)"
                                [value]="estado.nombre">
                                {{estado.nombre}}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="(estado.invalid && (estado.dirty || estado.touched)) && estado.errors.required">
                            Por favor ingresa tu estado</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-6">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Municipio</mat-label>
                        <mat-select [(ngModel)]="data.municipio" name="municipio" #municipio="ngModel" required>
                            <mat-option *ngFor="let municipio of municipios" [value]="municipio.nombre">
                                {{municipio.nombre}}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="(municipio.invalid && (municipio.dirty || municipio.touched)) && municipio.errors.required">
                            Por favor ingresa tu municipio</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Direccion</mat-label>
                        <input matInput [(ngModel)]="data.direccion" name="direccion" #direccion="ngModel"
                            pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d10-9 ]+$"
                            required>
                        <mat-error
                            *ngIf="(direccion.invalid && (direccion.dirty || direccion.touched)) && direccion.errors.required">
                            Por favor ingresa tu numero exterior</mat-error>
                        <mat-error
                            *ngIf="(direccion.invalid && (direccion.dirty || direccion.touched)) && direccion.errors.pattern">
                            Por favor ingresa solo letras y digitos</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-4">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Colonia</mat-label>
                        <input matInput [(ngModel)]="data.colonia" name="colonia" #colonia="ngModel"
                            pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d10-9 ]+$"
                            required>
                        <mat-error
                            *ngIf="(colonia.invalid && (colonia.dirty || colonia.touched)) && colonia.errors.required">
                            Por favor ingresa el nombre de tu colonia</mat-error>
                        <mat-error
                            *ngIf="(colonia.invalid && (colonia.dirty || colonia.touched)) && colonia.errors.pattern">
                            Por favor ingresa solo letras y digitos</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Numero interior</mat-label>
                        <input matInput [(ngModel)]="data.num_int" type="number" name="num_int" #num_int="ngModel">
                    </mat-form-field>
                </div>
                <div class="col-lg-4">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Numero exterior</mat-label>
                        <input matInput [(ngModel)]="data.num_ext" type="number" name="num_ext" #num_ext="ngModel"
                            required>
                        <mat-error
                            *ngIf="(num_ext.invalid && (num_ext.dirty || num_ext.touched)) && num_ext.errors.required">
                            Por favor ingresa tu numero exterior</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-lg-4">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Codigo postal</mat-label>
                        <input matInput [(ngModel)]="data.cp" type="number" name="cp" #cp="ngModel" required>
                        <mat-error *ngIf="(cp.invalid && (cp.dirty || cp.touched)) && cp.errors.required">
                            Por favor ingresa tu codigo postal</mat-error>
                    </mat-form-field>
                </div>
            </div>
        </div>
    </form>

</mat-dialog-content>
<mat-card-actions align="end">
    <button mat-raised-button color="primary" [mat-dialog-close]="true" [disabled]="!clienteForm.valid" >Guardar</button>
    <button mat-button (click)="onNoClick()">Cerrar</button>
</mat-card-actions>